<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Login</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body class="min-h-screen bg-[#0D0D0D] flex items-center justify-center px-4">

<div class="w-full max-w-sm bg-[#1A1A1A] p-6 rounded-xl shadow-xl">

<h2 class="text-2xl font-bold text-white mb-6 text-center">
Admin Login
</h2>

<input 
type="email" 
id="email" 
placeholder="Email"
class="w-full mb-4 px-4 py-3 rounded-lg bg-[#2A2A2A] text-white focus:outline-none focus:border border-[#A8E63D]"
>

<input 
type="password" 
id="password" 
placeholder="Password"
class="w-full mb-6 px-4 py-3 rounded-lg bg-[#2A2A2A] text-white focus:outline-none focus:border border-[#A8E63D]"
>

<button 
onclick="login()" 
class="w-full py-3 rounded-lg bg-[#A8E63D] text-black font-bold hover:opacity-90 transition"
> 
Login
</button>

</div>

<script>
const supabaseClient = supabase.createClient(
  "https://pxdzdwljccgdruzaqhlt.supabase.co",
  "sb_publishable_4_CsTkcZtuVeFxMSpjR8mQ_NpZaGkWX"
);

async function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const { error } = await supabaseClient.auth.signInWithPassword({
    email,
    password
  });

  if (error) {
    alert("Login Failed");
  } else {
    window.location.href = "dashboard.html";
  }
}

// Already logged-in check
supabaseClient.auth.getUser().then(({ data }) => {
  if (data.user) {
    window.location.href = "dashboard.html";
  }
});
</script>

</body>
</html>